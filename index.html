<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Meta tags para compartilhamento social (OGP e Twitter Cards) -->
        <!-- Atualize 'URL_COMPLETA_DO_SEU_SITE' com o endereço real do seu site -->
        <meta property="og:title" content="Portal de Acesso - OAB/SC">
        <meta property="og:description" content="Centralize e organize seus protocolos de atendimento na OAB/SC de forma eficiente.">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://portal.oab-sc.org.br/">
        <!-- Substitua URL_COMPLETA_DA_SUA_LOGO pelo caminho completo da sua imagem de logo (incluindo o domínio) -->
        <meta property="og:image" content="https://portal.oab-sc.org.br/site/images/portal.jpg">
        <meta property="og:image:alt" content="Logo OAB/SC">

        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Portal de Acesso - OAB/SC">
        <meta name="twitter:description" content="Centralize e organize seus protocolos de atendimento na OAB/SC de forma eficiente.">
        <!-- Substitua URL_COMPLETA_DA_SUA_LOGO pelo caminho completo da sua imagem de logo (incluindo o domínio) -->
        <meta name="twitter:image" content="https://portal.oab-sc.org.br/site/images/portal.jpg">
        <meta name="twitter:image:alt" content="Logo OAB/SC">
    <title>Portal de Acesso OAB-SC</title>
    <!-- Define o favicon da página -->
    <link rel="icon" href="https://portal.oab-sc.org.br/site/images/fav.png" type="image/png">
    <style>
        /* Remove margens e preenchimento padrão */
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Evita barras de scroll indesejadas na página principal */
            height: 100%; /* Garante que body e html ocupem 100% da altura */
            width: 100%; /* Garante que body e html ocupem 100% da largura */
            font-family: sans-serif; /* Define uma fonte padrão */
        }

        /* Estiliza o iframe para ocupar 100% da área visível */
        #main-iframe {
            width: 100%; /* Largura total */
            height: 100%; /* Altura total */
            border: none; /* Remove a borda padrão do iframe */
            display: block; /* Garante que o iframe ocupe o espaço sem gaps */
        }

        /* Estilo do botão de chat */
        #chat-button {
            position: fixed;
            bottom: 40px; /* Mantém o botão a 20px da parte inferior */
            right: 20px; /* Mantém o botão a 20px da direita */
            background-color: #4CAF50; /* Verde */
            color: white;
            border: none;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            z-index: 1000; /* Garante que o botão fique acima de outros elementos */
        }

        /* Estilo do container do chat */
        #chat-container {
            position: fixed;
            /* Ajustado para ter 20px de distância do rodapé e um pouco acima do botão */
            bottom: 76px; /* Altura do botão (aprox 36px) + 20px (rodapé) + 20px (gap) = 76px */
            right: 20px;
            width: 380px; /* Largura ajustada para parecer mais com a imagem */
            height: 550px; /* Altura ajustada para parecer mais com a imagem */
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 18px; /* Adiciona bordas arredondadas */
            z-index: 1001; /* Acima do botão e da Mila */
            display: none; /* Inicialmente escondido */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Sombra sutil */
            overflow: hidden; /* Para evitar barras de rolagem indesejadas no container */
            transition: all 0.3s ease-in-out; /* Transição para abertura/fechamento mais suave */
            opacity: 0; /* Começa invisível para transição */
            transform: translateY(10px); /* Leve deslocamento para transição */
        }

        #chat-iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 5px; /* Adiciona bordas arredondadas ao iframe */
        }

        /* Estilo para tornar o container visível */
        #chat-container.active {
            display: block;
            opacity: 1; /* Fica visível */
            transform: translateY(0); /* Volta para a posição original */
        }

        /* Estilo da Imagem da Mila */
        #mila-assistant-image {
            position: fixed;
            right: 20px;
            /* Calcula a posição abaixo do botão (20px do rodapé + aprox 36px de altura do botão + 10px de gap) */
            bottom: calc(20px + 40px + 10px);
            height: 290px; /* Altura da imagem, ajuste conforme necessário */
            width: auto; /* Mantém a proporção da imagem */
            z-index: 999; /* Abaixo do botão (1000) e do chat container (1001) */
            transition: all 0.3s ease-in-out; /* Transição suave para movimento */
            pointer-events: none; /* Não interfere com cliques em outros elementos */
        }

        /* Estilo da Imagem da Mila quando o chat está aberto */
        #mila-assistant-image.chat-open {
            /* Move a Mila para a esquerda do chat */
            /* Chat está em right: 20px, width: 380px. */
            /* A borda esquerda do chat está em viewport_width - (20px + 380px) = viewport_width - 400px. */
            /* A imagem da Mila tem aproximadamente 114px de largura (com height: 250px). */
            /* Para ter metade dela (57px) atrás do chat, sua borda direita deve estar em (viewport_width - 400px + 57px). */
            /* Então, right = 400px - 57px = 343px */
            right: 363px;
            /* Ajuste a posição vertical se necessário quando o chat está aberto */
            bottom: 76px; /* Alinha a base da Mila com a base do chat */
        }
    </style>
</head>
<body>

    <!-- Site principal abaixo, ela não tem a IA integrada, EasterEGG para quem sabe apertar F12-->
    <iframe id="main-iframe" src="https://portal.oab-sc.org.br/site"></iframe>

    <!-- Imagem da Mila -->
    <img id="mila-assistant-image" src="https://portal.oab-sc.org.br/site/images/mila.png" alt="Mila Virtual Assistant">

    <!-- Botão de Chat -->
    <button id="chat-button">CHAT ONLINE!</button>

    <!-- Container do Chat -->
    <div id="chat-container">
        <iframe id="chat-iframe" src="https://udify.app/chatbot/nfkcvW4U6uqBclGK" allow="microphone"></iframe>
    </div>


    <script>
        const chatButton = document.getElementById('chat-button');
        const chatContainer = document.getElementById('chat-container');
        const milaImage = document.getElementById('mila-assistant-image'); // Obtenha o elemento da imagem

        chatButton.addEventListener('click', () => {
            // Verifica se o container do chat está ativo (visível)
            const isActive = chatContainer.classList.contains('active');

            if (isActive) {
                // Se estiver ativo, significa que o chat está fechando
                chatContainer.classList.remove('active');
                milaImage.classList.remove('chat-open'); // Remove a classe para a Mila voltar à posição inicial
                // Aguarda a transição para realmente esconder o elemento do chat
                setTimeout(() => {
                    chatContainer.style.display = 'none';
                }, 300); // Deve ser igual ao tempo da transição no CSS
            } else {
                // Se não estiver ativo, significa que o chat está abrindo
                chatContainer.style.display = 'block';
                // Pequeno atraso para garantir que o display:block seja aplicado antes da transição de opacidade/transform
                setTimeout(() => {
                    chatContainer.classList.add('active');
                    milaImage.classList.add('chat-open'); // Adiciona a classe para a Mila se mover
                }, 10);
            }
        });
    </script>
</body>
</html>